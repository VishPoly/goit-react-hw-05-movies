{"version":3,"file":"static/js/879.40fe5e2f.chunk.js","mappings":"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","sources":["components/movieDetails/MovieDetails.styled.js","components/movieDetails/MovieDetails.jsx","pages/MovieDetailsPage.jsx","service/apiService.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const DetailsContainer = styled.div`\n  padding: ${p => p.theme.space[4]}px;\n`;\n","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport { fetchMoviesById } from 'service/apiService';\nimport { DetailsContainer } from './MovieDetails.styled';\n\nexport const MovieDetails = () => {\n  const [movie, setMovie] = useState({});\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    async function getFetchMoovies(movieId) {\n      try {\n        const data = await fetchMoviesById(movieId);\n\n        setMovie(data);\n      } catch (error) {\n        toast.error('Page not found', { duration: 3000 });\n      }\n    }\n    getFetchMoovies(movieId);\n  }, [movieId]);\n  if (Object.keys(movie).length > 0) {\n    const { title, vote_average, overview, genres, poster_path } = movie;\n    const userScore = vote_average * 10;\n    const movieGenres = genres.map(genre => genre.name).join(', ');\n\n    return (\n      <DetailsContainer>\n        <img\n          src={`https://image.tmdb.org/t/p/w300${poster_path}`}\n          alt={title}\n        />\n        <h2>{title}</h2>\n        <p>\n          User score: <span>{userScore}%</span>\n        </p>\n        <h3>Overview</h3>\n        <p>{overview}</p>\n        <h4>Genres</h4>\n        <p>{movieGenres}</p>\n      </DetailsContainer>\n    );\n  }\n};\n\nMovieDetails.propTypes = {\n  title: PropTypes.string,\n  poster_path: PropTypes.string,\n  overview: PropTypes.string,\n  vote_average: PropTypes.number,\n  genres: PropTypes.string,\n};\n","import { Suspense, lazy } from 'react';\nimport { Link, useLocation, useParams } from 'react-router-dom';\nimport { Route, Routes } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { MovieDetails } from 'components/movieDetails/MovieDetails';\n\nconst CastPage = lazy(() => import('./CastPage'));\nconst ReviewsPage = lazy(() => import('./ReviewsPage'));\n\nconst MovieDetailsRender = () => {\n  const location = useLocation();\n  const { movieId } = useParams();\n  const goBackPage = location.state?.from || location.pathname.slice(0, location.pathname.lastIndexOf(\"/\")) || '/';\n\n  return (\n    movieId && (\n      <>\n        {/* <GoBack to={{pathname:location.pathname === \"/movie\" ? }}>Go back</GoBack> */}\n\n        <GoBack to={goBackPage}>Go back</GoBack>\n        <MovieDetails />\n        <AdditionalInfo>\n          <h3>Additional information</h3>\n          <AdditionalLink to=\"cast\">Cast</AdditionalLink>\n          <AdditionalLink to=\"reviews\">Reviews</AdditionalLink>\n        </AdditionalInfo>{' '}\n        {/* <Suspense fallback={<div>Loading...</div>}>\n    <Outlet />\n      </Suspense> */}\n        <Suspense fallback={<>Loading..</>}>\n          <Routes>\n            <Route path=\"cast\" element={<CastPage />} />\n            <Route path=\"reviews\" element={<ReviewsPage />} />\n          </Routes>\n        </Suspense>\n      </>\n    )\n  );\n};\nconst GoBack = styled(Link)`\n  padding: ${p => p.theme.space[3]}px;\n  color: ${p => p.theme.colors.text};\n  font-weight: ${p => p.theme.fontWeights.bold};\n  margin-bottom: ${p => p.theme.space[3]}px;\n  margin-left: ${p => p.theme.space[3]}px;\n  :hover,\n  :focus {\n    color: ${p => p.theme.colors.accent};\n  }\n`;\nconst AdditionalInfo = styled.div`\n  margin-bottom: ${p => p.theme.space[4]}px;\n  margin-left: ${p => p.theme.space[4]}px;\n`;\nconst AdditionalLink = styled(Link)`\n  text-decoration: none;\n  color: ${p => p.theme.colors.text};\n  font-size: ${p => p.theme.fontSizes.l};\n  font-weight: ${p => p.theme.fontWeights.bold};\n  margin-right: ${p => p.theme.space[4]}px;\n  &.active {\n    color: ${p => p.theme.colors.accent};\n  }\n  :hover,\n  :focus {\n    color: ${p => p.theme.colors.accent};\n  }\n`;\nexport default MovieDetailsRender;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'b955cfd3c9f73eb51718e31500dd3096';\naxios.defaults.params = { api_key: API_KEY };\n\nexport const fetchTrendingMoovies = async () => {\n  try {\n    const response = await axios.get(`/trending/movie/day`);\n    return response.data;\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n\nexport const fetchMoviesBySearch = async query => {\n  try {\n    const response = await axios.get(`/search/movie?query=${query}`);\n    return response.data;\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n\nexport const fetchMoviesById = async movieId => {\n  try {\n    const response = await axios.get(`/movie/${movieId}`);\n    return response.data;\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n\nexport const fetchCastById = async movieId => {\n  try {\n    const response = await axios.get(`/movie/${movieId}/credits`);\n    return response.data;\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n\nexport const fetchReviewById = async movieId => {\n  try {\n    const response = await axios.get(`/movie/${movieId}/reviews`);\n    return response.data;\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n\n// export async function fetchTrendingMoovies() {\n//   const url = `/trending/movie/week?api_key=${apiKey}`;\n//   const { data } = await axios.get(url);\n//   return data;\n// }\n\n// export async function fetchMoviesBySearch(searchMovie) {\n//   const url = `/search/movie?query=${searchMovie}&api_key=${apiKey}`;\n//   const { data } = axios.get(url);\n//   return data;\n// }\n\n// export async function fetchMoviesById(movieId) {\n//   const url = `/movie/${movieId}?api_key=${apiKey}`;\n//   const { data } = axios.get(url);\n//   return data;\n// }\n"],"names":["DetailsContainer","styled","p","theme","space","MovieDetails","useState","movie","setMovie","movieId","useParams","useEffect","fetchMoviesById","data","toast","duration","getFetchMoovies","Object","keys","length","title","vote_average","overview","genres","poster_path","userScore","movieGenres","map","genre","name","join","src","alt","CastPage","lazy","ReviewsPage","GoBack","Link","colors","text","fontWeights","bold","accent","AdditionalInfo","AdditionalLink","fontSizes","l","location","useLocation","goBackPage","state","from","pathname","slice","lastIndexOf","to","Suspense","fallback","path","element","axios","api_key","fetchTrendingMoovies","response","console","log","message","fetchMoviesBySearch","query","fetchCastById","fetchReviewById"],"sourceRoot":""}